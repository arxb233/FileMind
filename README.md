# FileMind – 文件思维导图

FileMind 是一款基于 **Flask + HTML/JS + Markmap** 的本地文件浏览与思维导图生成工具，能够将文件系统目录结构可视化为思维导图，并提供便捷的浏览和操作功能。

## 功能概览

### 1. 文件思维导图

- 自动扫描指定目录及其子目录（支持深度限制）。
- 将文件夹和文件结构生成 **Markdown 树**。
- 使用 **Markmap** 渲染为可交互的思维导图。
- 支持动态刷新：
  - 点击左侧文件夹即可重新生成对应目录的思维导图。
  - 可以通过参数传递加载任意目录。

### 2. 左侧文件浏览器（jsTree）

- 展示本地磁盘盘符或指定根目录。
- 可展开/折叠文件夹，显示文件和子文件夹。
- 支持动态加载子目录，避免一次性加载大量文件。
- 点击文件或文件夹可触发 API 操作（如打开、生成思维导图等）。

### 3. 目录信息统计

- 实时显示当前目录的：
  - 路径
  - 文件夹数量
  - 文件数量
  - 生成时间
- 信息位于页面顶部 Header，清晰可见。

### 4. 自定义右键菜单

- 右键文件或文件夹显示操作菜单。
- 支持菜单项：
  - 打开
  - 加载思维导图
- 可通过全局变量获取右键点击节点的 `id`，便于外部调用。
- 支持动态扩展和修改菜单项。

### 5. 动态渲染逻辑

- **Markmap 容器动态生成 `<script>` 标签**：
  - 已存在时更新内容。
  - 不存在时动态创建，保证首次加载与刷新均可用。
- 避免 DOM 丢失导致的 `textContent null` 或 `Markmap undefined` 错误。
- 支持灵活渲染多实例。

### 6. 前端技术栈

- **HTML + CSS + JS** 构建单页面布局。
- **jQuery + jsTree** 实现文件浏览树。
- **Markmap-autoloader** 渲染 Markdown 思维导图。
- 响应式布局，左右区域自适应宽度，高度自适应浏览器窗口。

### 7. 后端技术栈

- **Python 3 + Flask** 提供 API 服务：
  - `/api/tree`：生成指定目录的 Markdown 树。
  - `/api/info`：返回目录统计信息。
  - `/api/drives`：返回本地盘符列表。
  - `/api/list`：返回目录下文件夹和文件列表。
  - `/api/open`：打开指定文件或目录（可拓展）。
- 可选参数支持加载任意目录路径。

### 8. 使用方式

1. 克隆项目：
   ```bash
   git clone https://github.com/arxb233/FileMind.git
   cd FileMind
   ```
2.安装依赖：
   ```bash
   pip install flask
   ```
3.启动服务：
   ```bash
    python server.py
   ```
打开浏览器访问：
http://localhost:8101
默认显示指定根目录，可通过左侧文件树浏览和刷新思维导图。

### 9. 项目亮点

- 灵活的前端渲染机制，支持动态刷新和多实例。

- 高度可扩展的右键菜单和文件操作。

- 直观的思维导图展示文件系统结构，方便文件管理和分析。

- 跨平台，可运行在 Windows、Linux、Mac（需 Python 3）。安装依赖：


